<!DOCTYPE html>
<!--
	ultra fast GIF encoder for data URL written in javascript
	https://github.com/xyzzy/jsGifEncoder

	Copyright 2018 https://github.com/xyzzy

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU Affero General Public License as published
	by the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU Affero General Public License for more details.

	You should have received a copy of the GNU Affero General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
<head>
	<title>jsGifEncoder demo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
</head>
<body>

<img id="img" src="">

<script type="text/javascript" src="jsGifEncoder.js"></script>
<script type="text/javascript">

window.addEventListener("load", function() {

	/*
	 * Create simple image
	 */
	var A = 10, B = 11, C = 12, D = 13, E = 14, F = 15;
	var pixels = [
		F, F, 9, 9, 9, 9, 6, 5, F, F, F, F, F, F, F, F,
		F, 9, F, F, F, F, 9, C, 5, F, F, F, F, F, F, F,
		9, F, E, E, E, E, F, 9, 9, 9, 9, 9, 9, 6, 5, F,
		9, B, 4, 4, 4, 4, 4, F, F, F, F, F, 9, 1, 6, F,
		9, A, A, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 6,
		9, 8, 9, F, F, F, F, F, F, F, F, F, A, F, 9, 1,
		9, 7, 9, E, E, E, E, E, E, E, E, E, 3, E, 9, D,
		9, 3, 9, E, B, B, B, B, B, B, B, B, 0, E, 9, D,
		9, 3, 9, E, A, A, A, A, A, A, A, A, 0, E, 9, D,
		9, 3, 9, E, 8, 8, 8, 8, 8, 8, 8, 8, 0, E, 9, D,
		9, 3, 9, E, 7, 7, 7, 7, 7, 7, 7, 7, 9, E, 9, D,
		6, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 1,
		5, C, 1, D, D, D, D, D, D, D, D, D, D, D, 1, C,
		F, 5, 6, C, C, C, C, C, C, C, C, C, C, C, 6, 5
	];
	var width = 16;
	var height = 14;

	/*
	 * Color palette for above image
	 */
	var red = [230, 135, 75, 254, 255, 246, 223, 255, 255, 197, 255, 255, 214, 108, 255, 255];
	var green = [179, 135, 75, 203, 244, 246, 223, 212, 224, 146, 235, 247, 214, 108, 255, 255];
	var blue = [78, 135, 75, 102, 142, 246, 223, 111, 123, 45, 133, 145, 214, 108, 153, 255];
	var bpp = 4; // 2^4 = 16 colours

	/*
	 * Create encoder
	 */
	var encoder = new GifEncoder(width, height);

	var data = encoder.encode(bpp, red, green, blue, pixels);

	/*
	 * File placeholder and set
	 */
	var img = document.getElementById('img');
	img.width = width;
	img.height = height;
	img.src = data;
});

</script>

</body>
</html>